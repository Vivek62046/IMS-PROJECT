def forgot_password(self):
        if self.employee_id.get() == "":
            messagebox.showerror("Error", "Please enter your Employee ID first", parent=self.root)
            return

        try:
            con = sqlite3.connect(database=r'ims.db')
            cur = con.cursor()
            cur.execute("SELECT pass FROM employee WHERE eid=?", (self.employee_id.get(),))
            result = cur.fetchone()
            if result:
                messagebox.showinfo("Password Recovery", f"Your password is: {result[0]}", parent=self.root)
            else:
                messagebox.showerror("Error", "Employee ID not found", parent=self.root)
        except Exception as ex:
            messagebox.showerror("Error", f"Error due to: {str(ex)}", parent=self.root)




def forget_window(self):
          con = sqlite3.connect('ims.db')
          cur = con.cursor()
          try:
              if self.employee_id.get() == "":
                   messagebox.showerror("Error", "Please enter your Employee ID Must Be Required", parent=self.root)
              else:   
                    cur.execute("SELECT email FROM employee WHERE eid=?", (self.employee_id.get(),))
                    email = cur.fetchone()
                    if email== None:
                         messagebox.showerror("Error", "Invalid Employee ID, Try Again ", parent=self.root)
                    else:
                         self.var_otp= StringVar()
                         self.var_New_Pass= StringVar()
                         self.var_Conf_Pass= StringVar()
                    #    call send_email_function()
                         self.forget_win=Toplevel(self.root)
                         self.forget_win.title('Reset Password')
                         self.forget_win.geometry('400x350+500+100')
                         self.forget_win.focus_force()
                         title=Label(self.forget_win,text='Reset Password',font=('goudy old style',15,'bold'),bg="#3f51b5",fg ="white").pack(side=TOP,fill=X)
                         
                         lbl_reset = Label(self.forget_win, text=f'Enter OTP Sent On Registered Email:\n{self.email}', font=('times new roman', 15)).place(x=20,y=60)
                         txt_reset= Entry(self.forget_win,textvariable=self.var_otp,font=('times new roman', 15),bg='lightyellow').place(x=20,y=100,width=250,height=30)
      


          except Exception as ex:
            messagebox.showerror("Error", f"Error due to: {str(ex)}", parent=self.root)

